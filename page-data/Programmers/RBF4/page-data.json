{"componentChunkName":"component---src-templates-blog-template-js","path":"/Programmers/RBF4/","result":{"data":{"cur":{"id":"cccf4991-ecb3-59e0-805f-b4de53201ee3","html":"<h1 id=\"cors란\" style=\"position:relative;\"><a href=\"#cors%EB%9E%80\" aria-label=\"cors란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS란?</h1>\n<p>CORS(Cross-Origin Resource Sharing)는 웹 브라우저가 <strong>다른 출처(Origin)</strong> 의 리소스에 접근할 때 발생할 수 있는 보안 정책을 제어하기 위한 메커니즘입니다.</p>\n<p>웹 브라우저는 기본적으로 보안상 같은 출처(Same-Origin)에서만 리소스를 요청하도록 설계되었습니다.\n하지만 실제로 다양한 API 호출이나 외부 리소스 사용을 위해 다른 출처의 리소스를 요청해야 할 경우가 많습니다.\n이때, CORS 정책을 통해 안전하게 리소스에 접근할 수 있도록 허용 여부를 설정할 수 있습니다.</p>\n<h2 id=\"출처origin란\" style=\"position:relative;\"><a href=\"#%EC%B6%9C%EC%B2%98origin%EB%9E%80\" aria-label=\"출처origin란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>출처(Origin)란?</h2>\n<p>URL은 <a href=\"https://domain.com:3000/user?query=name&#x26;page=1%C2%A0%EA%B3%BC\">https://domain.com:3000/user?query=name&#x26;page=1 과</a> 같이 하나의 문자열 같지만, 사실은 다음과 같이 여러개의 구성 요소로 이루어져 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaUlEQVQoz42S627aQBCFef/nSdQoP6pGJYkxkAAGG0igGJMYY4NRY+y19/JVNk3TP72M9O3ZkUZnZzTb0lpTI6RCSE2pzBmpm1xrgzEaYwwGzvoH6mjVx/oocXeKWWJouxuuOh5eLPH2kuVBos61/4zatFUpwzgSDMLvjKKMwcuRx2DH+DVnsCpwthVZLkDklFrzphRZjdYUpSTPK/JCNpM0HUoNbiy4dvp8GnZ5CHz6ix49d8P15ZJpCtEmIB52OQjBl8WCr6sVVuDjhwdu78bYvTlFIc+GldY8viR0/BXDcIcbJUzCDZPtnsHzDtvZk24jsjRmX0kiURCcTsRCNA+E2yN5Xn6MXCrFzdzhyunTnj5guRaWZ2PPbazJkMsLl+f7Lt7U4cZfc++vaS+/8Xk2pbMOsPtPpGn2Yai0YZYoRpHCiSSjSDb6fncTRan/byG/tpxXmvikSH4S/6ZvjZv563d5N6s7/AGW1F7k19k/fQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"RBF4 origin\"\n        title=\"RBF4 origin\"\n        src=\"/static/ee0cfdf6e924e9519f9b336d132b82ef/37523/RBF4_origin.png\"\n        srcset=\"/static/ee0cfdf6e924e9519f9b336d132b82ef/e9ff0/RBF4_origin.png 180w,\n/static/ee0cfdf6e924e9519f9b336d132b82ef/f21e7/RBF4_origin.png 360w,\n/static/ee0cfdf6e924e9519f9b336d132b82ef/37523/RBF4_origin.png 720w,\n/static/ee0cfdf6e924e9519f9b336d132b82ef/302a4/RBF4_origin.png 1080w,\n/static/ee0cfdf6e924e9519f9b336d132b82ef/07a9c/RBF4_origin.png 1440w,\n/static/ee0cfdf6e924e9519f9b336d132b82ef/236d7/RBF4_origin.png 1486w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Protocol(Scheme) : http, https</li>\n<li>Host : 사이트 도메인</li>\n<li>Port : 포트 번호</li>\n<li>Path : 사이트 내부 경로</li>\n<li>Query string : 요청의 key와 value값</li>\n<li>Fragment : 해시 태크</li>\n</ul>\n<p>Origin : Protocol + Host + Port</p>\n<p>즉, 출처(Origin) 라는 것은 Protocol 과 Host 그리고 Port 까지 모두 합친 URL을 의미한다고 보면 됩니다</p>\n<h2 id=\"cross-origin-판단-기준\" style=\"position:relative;\"><a href=\"#cross-origin-%ED%8C%90%EB%8B%A8-%EA%B8%B0%EC%A4%80\" aria-label=\"cross origin 판단 기준 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cross-Origin 판단 기준</h2>\n<p>두 개의 출처가 서로 같다고 판단하는 로직은, 두 URL의 구성 요소 중 Scheme(프로토콜), Host(도메인), Port, 이 3가지만 동일하면 된다고 합니다.이 3가지 중 하나라도 다르면 cross-origin 입니다.</p>\n<p>다음은 <a href=\"https://www.domain.com:3000%C2%A0%EC%B6%9C%EC%B2%98%EC%97%90\">https://www.domain.com:3000 출처에</a> 대한 여러 URL에 따른 동일 출처 비교 표 입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">비교 URL => https://www.domain.com:3000 </code></pre></div>\n<table>\n<thead>\n<tr>\n<th>url</th>\n<th>동일 출처</th>\n<th>이유</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://www.domain.com:3000/about\">https://www.domain.com:3000/about</a></td>\n<td>yes</td>\n<td>프로토콜, 호스트, 포트 번호 동일</td>\n</tr>\n<tr>\n<td><a href=\"https://www.domain.com:3000/about?username=inpa\">https://www.domain.com:3000/about?username=inpa</a></td>\n<td>yes</td>\n<td>프로토콜, 호스트, 포트 번호 동일</td>\n</tr>\n<tr>\n<td><a href=\"http://www.domain.com:3000\">http://www.domain.com:3000</a></td>\n<td>no</td>\n<td>프로토콜 다름 (http ≠ https)</td>\n</tr>\n<tr>\n<td><a href=\"https://www.another.co.kr:3000\">https://www.another.co.kr:3000</a></td>\n<td>no</td>\n<td>호스트 다름</td>\n</tr>\n<tr>\n<td><a href=\"https://www.domain.com:8888\">https://www.domain.com:8888</a></td>\n<td>no</td>\n<td>포트 번호 다름</td>\n</tr>\n<tr>\n<td><a href=\"https://www.domain.com\">https://www.domain.com</a></td>\n<td>no</td>\n<td>포트 번호 다름 (443 ≠ 3000)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"cors의-동작\" style=\"position:relative;\"><a href=\"#cors%EC%9D%98-%EB%8F%99%EC%9E%91\" aria-label=\"cors의 동작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS의 동작</h2>\n<h3 id=\"preflight-request-사전요청\" style=\"position:relative;\"><a href=\"#preflight-request-%EC%82%AC%EC%A0%84%EC%9A%94%EC%B2%AD\" aria-label=\"preflight request 사전요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Preflight Request (사전요청)</h3>\n<p>사실 브라우저는 요청을 보낼때 한번에 바로 보내지않고, 먼저 예비 요청을 보내 서버와 잘 통신되는지 확인한 후 본 요청을 보낸다. \n즉, 예비 요청의 역할은 본 요청을 보내기 전에 브라우저 스스로 안전한 요청인지 미리 확인하는 것이다.</p>\n<p>이때 브라우저가 예비요청을 보내는 것을 Preflight라고 부르며, 이 예비요청의 HTTP 메소드를 GET이나 POST가 아닌 OPTIONS라는 요청이 사용된다는 것이 특징이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACTElEQVQ4y3WT204TURSGeUUfwXveQi/lJYxeeKEXJiZccJJWUApSUUoPQwsd5lBg6HQ6p338zEw5GfBP/mTt7OxvHbL2UjjcIXQ2CU8bBP6YIAwJgoAwDLi48Nn6MWDj+4BGy8H3A8IgIAh8JuGEkXvKfrdJ66TJwO2wurrKknWW0X9eYHovwVzzWLmA1+8cXr11ePPhDGP/uWY0PWbl6zIrW8usDd/T+r7PklExMhtT5pcoJcmynCRJUErV57yQJFmJ0QWYhavYqAIlU5JswjS9BCzNRpOlKpM1us5ujMFaW7uKjbEYQIbHzPqbnDk73Hj7qOkhKm6j4yPMrI0RUV1xo9GogAarc56VVRhrEN4horNKerKO6q0zP11n6n+rYTreQ2QXj4EWqwuq8dxVt4gNFGNM7lLGXfTNAXNvh5nbREYHlNEBKv6FiCqg9xTILRBrH2Ko25ZJD2Yt9NFn9P5H+PmJovOFyWiD6XiNMnNvgdtPgQumvQVWs4Q8u0al56hJF+kdk4+PiNzfJJHD/GZAWc6eb5m7lh8BK/VHV+wejtjtBLSHMX0/w6nspXTdGVGS/3+Gj5WWmslM0h9estcesXN0QevYo+/OGHhzHD/lxI25itPnZ3jXtpSq3kNtDMLC+bXACTOGfsJpkNLpebQPevQ7Lt2ux1U8r99uL4DUy6q1riFSynqxk/kcKQQ6isiCS4oophCaQhqKUlFkJWUhyfOCUoqHCqUUCFEghLh3Ba0sypJyMkGGAeomQkm5sJK3P0khlaQoi3vgXw4t1KKkUjZ9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"RBF4 Preflight\"\n        title=\"RBF4 Preflight\"\n        src=\"/static/d965848bcf8255a01f94b1e7513b446d/37523/RBF4_Preflight.png\"\n        srcset=\"/static/d965848bcf8255a01f94b1e7513b446d/e9ff0/RBF4_Preflight.png 180w,\n/static/d965848bcf8255a01f94b1e7513b446d/f21e7/RBF4_Preflight.png 360w,\n/static/d965848bcf8255a01f94b1e7513b446d/37523/RBF4_Preflight.png 720w,\n/static/d965848bcf8255a01f94b1e7513b446d/302a4/RBF4_Preflight.png 1080w,\n/static/d965848bcf8255a01f94b1e7513b446d/07a9c/RBF4_Preflight.png 1440w,\n/static/d965848bcf8255a01f94b1e7513b446d/1d94f/RBF4_Preflight.png 2264w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>\n<p>자바스크립트의 fetch() 메서드를 통해 리소스를 받아오려고 합니다.</p>\n</li>\n<li>\n<p>브라우저는 서버로 HTTP OPTIONS 메소드로 예비 요청(Preflight)을 먼저 보냅니다.</p>\n<ul>\n<li>Origin 헤더에 자신의 출처를 넣습니다.</li>\n<li>Access-Control-Request-Method 헤더에 실제 요청에 사용할 메소드를 설정합니다.</li>\n<li>Access-Control-Request-Headers 헤더에 실제 요청에 사용할 헤더들을 설정합니다.</li>\n</ul>\n</li>\n<li>\n<p>서버는 이 예비 요청에 대한 응답으로 어떤 것을 허용하고 어떤것을 금지하고 있는지에 대한 헤더 정보를 담아서 브라우저로 보내줍니다.</p>\n<ul>\n<li>Access-Control-Allow-Origin 헤더에 허용되는 Origin들의 목록을 설정합니다.</li>\n<li>Access-Control-Allow-Methods 헤더에 허용되는 메소드들의 목록을 설정합니다.</li>\n<li>Access-Control-Allow-Headers 헤더에 허용되는 헤더들의 목록을 설정합니다.</li>\n<li>Access-Control-Max-Age 헤더에 해당 예비 요청이 브라우저에 캐시 될 수 있는 시간을 초 단위로 설정합니다.</li>\n</ul>\n</li>\n<li>\n<p>이후 브라우저는 보낸 요청과 서버가 응답해준 정책을 비교하여, 해당 요청이 안전한지 확인하고 본 요청을 보내게 된다.</p>\n</li>\n<li>\n<p>서버가 본 요청에 대한 응답을 하면 최종적으로 이 응답 데이터를 자바스립트로 넘겨줍니다.</p>\n</li>\n</ol>\n<h3 id=\"단순-요청-simple-request\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%88%9C-%EC%9A%94%EC%B2%AD-simple-request\" aria-label=\"단순 요청 simple request permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단순 요청 (Simple Request)</h3>\n<p>단순 요청은 말그대로 예비 요청(Prefilght)을 생략하고 바로 서버에 직행으로 본 요청을 보낸 후, 서버가 이에 대한 응답의 헤더에 Access-Control-Allow-Origin 헤더를 보내주면 브라우저가 CORS정책 위반 여부를 검사하는 방식이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQ0lEQVQ4y4WSS09TQRiG+1Nw0XbJzl/QFVHigga8UQxSuVSCK+Nak562kEAUorJg4cLEjStoQiwJxva0NaIJYtyIiTe0CUhvp+cyM4/pOaW0ePuSL1/m9nzvvDO+WCzG3NwC8XgcTbuNpt1B07R2JhIayUTCrd3zCRLxBMvLKywuLjE0NERvby++zecvwFyB3VE4WOJkPMrsE3/8hae5wxMriifv5rifv8VH8zUPlh7iD/jxra6ugfxE7ccmxs8dTNOkXC5jGAaWZfH5e4UPXyuUDgwcIXAcByEElm2yW9rh/d4Wpqoym5olGAziS6fTbj8hQAJSSvdAsyolXSVHimiNm2vtaemV1GzqBNCudRw+jub+arnK3l6Jb/tV6g0bIRxXaVOlaRkeMJUiEAh0AusuTinVTheoFLbtKbaEQsjjplJJF/pXIC1gZ5VSYTuy+znazcS/gcrb/btCx/PT81UdOYqQAtNudAPX2kCjfeUuD6V3ZdF6XdMwOCyVsCoV7EYd0zoG+v3ut1l1J2yz5ipopmu4ZbnmCwWmo9xm7g+wbexaFVmv4zQMGqb3KMlk0gNmNjL8KYRs+ebY0DD5XyzMzxMMBvDdW7jL2zdb5LJZdF0nl81R0HXyOZ1stoC+/oxcep2XGxlvXdcpFIu8KurkC0Vy2Tzb29tcn7lBT88pfP2T5wldihGJhLkSGSY6NcZANMrozBTT0+e4OHyW8ZEQocvjjE5MMhEdYbD/DKf7rjIY7mMwEmIgHObm2AXGrw3zC2xue8Ji4l/lAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"RBF4 simpleRequest\"\n        title=\"RBF4 simpleRequest\"\n        src=\"/static/37da6e38b6f54dffdd4644feaf92a0db/37523/RBF4_simpleRequest.png\"\n        srcset=\"/static/37da6e38b6f54dffdd4644feaf92a0db/e9ff0/RBF4_simpleRequest.png 180w,\n/static/37da6e38b6f54dffdd4644feaf92a0db/f21e7/RBF4_simpleRequest.png 360w,\n/static/37da6e38b6f54dffdd4644feaf92a0db/37523/RBF4_simpleRequest.png 720w,\n/static/37da6e38b6f54dffdd4644feaf92a0db/302a4/RBF4_simpleRequest.png 1080w,\n/static/37da6e38b6f54dffdd4644feaf92a0db/07a9c/RBF4_simpleRequest.png 1440w,\n/static/37da6e38b6f54dffdd4644feaf92a0db/1d94f/RBF4_simpleRequest.png 2264w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>대표적으로 아래 3가지 경우를 만족 할때 만 가능하다.</p>\n<ol>\n<li>요청의 메소드는 GET, HEAD, POST 중 하나여야 합니다.</li>\n<li>Accept, Accept-Language, Content-Language, Content-Type, DPR, Downlink, Save-Data, Viewport-Width, Width 헤더일 경우 에만 적용됩니다.</li>\n<li>Content-Type 헤더가 application/x-www-form-urlencoded, multipart/form-data, text/plain중 하나여야 합니다. 아닐 경우 예비 요청으로 동작됩니다.</li>\n</ol>\n<p>이처럼 다소 까다로운 조건들이 많기 때문에, 위 조건을 모두 만족되어 단순 요청이 일어나는 상황은 드물다고 보면 됩니다.</p>\n<p>왜냐하면 대부분 HTTP API 요청은 text/xml 이나 application/json 으로 통신하기 때문에 3번째 Content-Type이 위반되기 때문입니다.</p>\n<p><strong>따라서 대부분의 API 요청은 그냥 예비 요청(preflight)으로 이루어진다 라고 이해하면 됩니다.</strong></p>\n<h3 id=\"인증된-요청-credentialed-request\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EC%A6%9D%EB%90%9C-%EC%9A%94%EC%B2%AD-credentialed-request\" aria-label=\"인증된 요청 credentialed request permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인증된 요청 (Credentialed Request)</h3>\n<p>인증된 요청은 클라이언트에서 서버에게 자격 인증 정보(Credential)를 실어 요청할때 사용되는 요청입니다.</p>\n<p>여기서 말하는 자격 인증 정보란 세션 ID가 저장되어있는 쿠키(Cookie) 혹은 Authorization 헤더에 설정하는 토큰 값 등을 일컫습니다.</p>\n<h4 id=\"1-클라이언트에서-인증-정보를-보내도록-설정하기\" style=\"position:relative;\"><a href=\"#1-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%B8%EC%A6%9D-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EB%B3%B4%EB%82%B4%EB%8F%84%EB%A1%9D-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"1 클라이언트에서 인증 정보를 보내도록 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 클라이언트에서 인증 정보를 보내도록 설정하기</h4>\n<p>기본적으로 브라우저가 제공하는 요청 API 들은 별도의 옵션 없이 브라우저의 쿠키와 같은 인증과 관련된 데이터를 함부로 요청 데이터에 담지 않도록 되어있습니다.</p>\n<p>이때 요청에 인증과 관련된 정보를 담을 수 있게 해주는 옵션이 바로 credentials 옵션이다. 이 옵션에는 3가지의 값을 사용할 수 있습니다.</p>\n<table>\n<thead>\n<tr>\n<th>옵션 값</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>same-origin(기본값)</td>\n<td>같은 출처 간 요청에만 인증 정보를 담을 수 있습니다.</td>\n</tr>\n<tr>\n<td>include</td>\n<td>모든 요청에 인증 정보를 담을 수 있습니다.</td>\n</tr>\n<tr>\n<td>omit</td>\n<td>모든 요청에 인증 정보를 담지 않습니다.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// fetch 메서드</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://example.com:1234/users/login'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">credentials</span><span class=\"token operator\">:</span> <span class=\"token string\">'include'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 클라이언트와 서버가 통신할때 쿠키와 같은 인증 정보 값을 공유하겠다는 설정</span>\n  <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">userId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// axios 라이브러리</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">'https://example.com:1234/users/login'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">profile</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> username<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">password</span><span class=\"token operator\">:</span> password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">withCredentials</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 클라이언트와 서버가 통신할때 쿠키와 같은 인증 정보 값을 공유하겠다는 설정</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"2-서버에서-인증된-요청에-대한-헤더-설정하기\" style=\"position:relative;\"><a href=\"#2-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-%EC%9D%B8%EC%A6%9D%EB%90%9C-%EC%9A%94%EC%B2%AD%EC%97%90-%EB%8C%80%ED%95%9C-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"2 서버에서 인증된 요청에 대한 헤더 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 서버에서 인증된 요청에 대한 헤더 설정하기</h4>\n<p>서버도 마찬가지로 이러한 인증된 요청에 대해 일반적인 CORS 요청과는 다르게 대응해줘야 합니다.</p>\n<ol>\n<li>응답 헤더의 Access-Control-Allow-Credentials 항목을 true로 설정해야 합니다.</li>\n<li>응답 헤더의 Access-Control-Allow-Origin 의 값에 와일드카드 문자(”*“)는 사용할 수 없습니다.</li>\n<li>응답 헤더의 Access-Control-Allow-Methods 의 값에 와일드카드 문자(”*“)는 사용할 수 없습니다.</li>\n<li>응답 헤더의 Access-Control-Allow-Headers 의 값에 와일드카드 문자(”*“)는 사용할 수 없습니다.</li>\n</ol>\n<p>즉, 응답의 Access-Control-Allow-Origin 헤더가 와일드카드(*)가 아닌 분명한 Origin으로 설정되어야 하고, Access-Control-Allow-Credentials 헤더는 true로 설정되어야 한다는 뜻이다. 그렇지 않으면 브라우저의 CORS 정책에 의해 응답이 거부됩니다.</p>\n<h2 id=\"cors-해결-방법\" style=\"position:relative;\"><a href=\"#cors-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"cors 해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 해결 방법</h2>\n<h3 id=\"1-chrome-확장-프로그램-이용\" style=\"position:relative;\"><a href=\"#1-chrome-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%9D%B4%EC%9A%A9\" aria-label=\"1 chrome 확장 프로그램 이용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Chrome 확장 프로그램 이용</h3>\n<p>Allow CORS: Access-Control-Allow-Origin’ 크롬 확장 프로그램을을 설치 해줍니다.</p>\n<p>그러면 브라우저 오른쪽 상단에서 확장 프로그램을 활성화 시킬 수 있습니다. 해당 프로그램을 활성화 시키게 되면, 로컬(localhost) 환경에서 API를 테스트 시, CORS 문제를 해결할 수 있습니다.</p>\n<h3 id=\"2-프록시-사이트-이용하기\" style=\"position:relative;\"><a href=\"#2-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"2 프록시 사이트 이용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 프록시 사이트 이용하기</h3>\n<p>프록시(Proxy)란 클라이언트와 서버 사이의 중계 대리점이라고 보면 됩니다.</p>\n<p>즉, 프론트에서 직접 서버에 리소스를 요청을 했더니 서버에서 따로 설정을 안해줘서 CORS 에러가 뜬다면, 모든 출처를 허용한 서버 대리점을 통해 요청을 하면 되는 것입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABcklEQVQoz21Sv0/CQBjtP8Df6GTcCMwd3EQGFwc6KiaYkDgYQyQhMIgmCJEB6yIUQlKMJJUWCoW2194z9x1WIb6kuX7v7r4f752CLYIgoJVzTl8cx4iiKIkFBBeGIfE/scC7McLD0zM2Gx+K67pot9sYj8dYr70k6S54cjlh+C93WSrj4CiDr5kNZTgcIp1Oo9PpYO7aiDijQ6JIvV4XucBjWUCcUVUVjUaD4rUvG6g9vuD84gb2YglFtN/tdqlDAZHwY2qiUNCQz+ehv70igixSLBaRSqWQO81RHLJQjs4BZ7Gkf0o4GAxgGAZVZLHQiKFSqaBUuobnrRBzOVqv14OmaWi1WiRDwHzil8sVJpMJyUAjZ7NZNJtNOHM70cg0TfT7/a34cmRxSdd12hPwQ5nw7r6G45MzOPOFNKVarcKyrB1DhOu+7++4zBiD53nkNMkTyc6vyrc4zKiwZg6Ufef2Xf6P+/u8BKb2CqNPB34Y4RtG71GdGWtvtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"RBF4 proxy\"\n        title=\"RBF4 proxy\"\n        src=\"/static/065905906b90da88888bc1e443f107df/37523/RBF4_proxy.png\"\n        srcset=\"/static/065905906b90da88888bc1e443f107df/e9ff0/RBF4_proxy.png 180w,\n/static/065905906b90da88888bc1e443f107df/f21e7/RBF4_proxy.png 360w,\n/static/065905906b90da88888bc1e443f107df/37523/RBF4_proxy.png 720w,\n/static/065905906b90da88888bc1e443f107df/302a4/RBF4_proxy.png 1080w,\n/static/065905906b90da88888bc1e443f107df/07a9c/RBF4_proxy.png 1440w,\n/static/065905906b90da88888bc1e443f107df/098c1/RBF4_proxy.png 1578w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>다만 현재 무료 프록시 서버 대여 서비스들은 모두 악용 사례 때문에 api 요청 횟수 제한을 두어 실전에서는 사용하기 무리입니다. 따라서 테스트용이나 맛보기용으로 사용하되, 실전에서는 직접 프록시 서버를 구축하여 사용하여야 합니다.</p>\n<h3 id=\"3-서버에서-access-control-allow-origin-헤더-세팅하기\" style=\"position:relative;\"><a href=\"#3-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-access-control-allow-origin-%ED%97%A4%EB%8D%94-%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0\" aria-label=\"3 서버에서 access control allow origin 헤더 세팅하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 서버에서 Access-Control-Allow-Origin 헤더 세팅하기</h3>\n<p>직접 서버에서 HTTP 헤더 설정을 통해 출처를 허용하게 설정하는 가장 정석적인 해결책입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 헤더에 작성된 출처만 브라우저가 리소스를 접근할 수 있도록 허용함.\n# * 이면 모든 곳에 공개되어 있음을 의미한다.\nAccess-Control-Allow-Origin : https://naver.com\n\n# 리소스 접근을 허용하는 HTTP 메서드를 지정해 주는 헤더\nAccess-Control-Request-Methods : GET, POST, PUT, DELETE\n\n# 요청을 허용하는 해더.\nAccess-Control-Allow-Headers : Origin,Accept,X-Requested-With,Content-Type,Access-Control-Request-Method,Access-Control-Request-Headers,Authorization\n\n# 클라이언트에서 preflight 의 요청 결과를 저장할 기간을 지정\n# 60초 동안 preflight 요청을 캐시하는 설정으로, 첫 요청 이후 60초 동안은 OPTIONS 메소드를 사용하는 예비 요청을 보내지 않는다.\nAccess-Control-Max-Age : 60\n\n# 클라이언트 요청이 쿠키를 통해서 자격 증명을 해야 하는 경우에 true.\n# 자바스크립트 요청에서 credentials가 include일 때 요청에 대한 응답을 할 수 있는지를 나타낸다.\nAccess-Control-Allow-Credentials : true\n\n# 기본적으로 브라우저에게 노출이 되지 않지만, 브라우저 측에서 접근할 수 있게 허용해주는 헤더를 지정\nAccess-Control-Expose-Headers : Content-Length\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Express.js 세팅</span>\n\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> cors <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// cors 설정을 편안하게 하는 패키지</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">cors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">origin</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://naver.com'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 접근 권한을 부여하는 도메인</span>\n    <span class=\"token literal-property property\">credentials</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 응답 헤더에 Access-Control-Allow-Credentials 추가</span>\n    <span class=\"token literal-property property\">optionsSuccessStatus</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 응답 상태 200으로 설정</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span></code></pre></div>\n<p>출처 : <a href=\"https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-CORS-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%F0%9F%91%8F\">https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-CORS-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%F0%9F%91%8F</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%B6%9C%EC%B2%98origin%EB%9E%80\">출처(Origin)란?</a></p>\n</li>\n<li>\n<p><a href=\"#cross-origin-%ED%8C%90%EB%8B%A8-%EA%B8%B0%EC%A4%80\">Cross-Origin 판단 기준</a></p>\n</li>\n<li>\n<p><a href=\"#cors%EC%9D%98-%EB%8F%99%EC%9E%91\">CORS의 동작</a></p>\n<ul>\n<li>\n<p><a href=\"#preflight-request-%EC%82%AC%EC%A0%84%EC%9A%94%EC%B2%AD\">Preflight Request (사전요청)</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%88%9C-%EC%9A%94%EC%B2%AD-simple-request\">단순 요청 (Simple Request)</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B8%EC%A6%9D%EB%90%9C-%EC%9A%94%EC%B2%AD-credentialed-request\">인증된 요청 (Credentialed Request)</a></p>\n<ul>\n<li><a href=\"#1-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%B8%EC%A6%9D-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EB%B3%B4%EB%82%B4%EB%8F%84%EB%A1%9D-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">1. 클라이언트에서 인증 정보를 보내도록 설정하기</a></li>\n<li><a href=\"#2-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-%EC%9D%B8%EC%A6%9D%EB%90%9C-%EC%9A%94%EC%B2%AD%EC%97%90-%EB%8C%80%ED%95%9C-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">2. 서버에서 인증된 요청에 대한 헤더 설정하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#cors-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\">CORS 해결 방법</a></p>\n<ul>\n<li><a href=\"#1-chrome-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%9D%B4%EC%9A%A9\">1. Chrome 확장 프로그램 이용</a></li>\n<li><a href=\"#2-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\">2. 프록시 사이트 이용하기</a></li>\n<li><a href=\"#3-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-access-control-allow-origin-%ED%97%A4%EB%8D%94-%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0\">3. 서버에서 Access-Control-Allow-Origin 헤더 세팅하기</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"CORS란? CORS(Cross-Origin Resource Sharing)는 웹 브라우저가 다른 출처(Origin) 의 리소스에 접근할 때 발생할 수 있는 보안 정책을 제어하기 위한 메커니즘입니다. 웹 브라우저는 기본적으로 보안상 같은 출처(Same-Origin)에서만 리소스를 요청하도록 설계되었습니다.\n하지만 실제로 다양한 API 호출이나 외부 리소스 사용을 위해 다른 출처의 리소스를 요청해야 할 경우가 많습니다.\n이때, CORS 정책을 통해 안전하게 리소스에 접근할 수 있도록 허용 여부를 설정할 수 있습니다. 출처(Origin)란? URL은 https://domain.com:3000/user?query=name&page=1 과 같이 하나의 문자열 같지만, 사실은 다음과 같이 여러개의 구성 요소로 이루어져 있습니다.  Protocol(Scheme) : http, https Host : 사이트 도메인 Port : 포트 번호 Path : 사이트 내부 경로 Query string :…","frontmatter":{"date":"December 14, 2024","title":"RBF 4회차 CORS - 1차 프로젝트 5팀","categories":"프로그래머스","author":"중석","emoji":"👨🏻‍💻"},"fields":{"slug":"/Programmers/RBF4/"}},"next":{"id":"f895872f-43aa-5948-904e-e8672933e81d","html":"<h1 id=\"fetch-함수\" style=\"position:relative;\"><a href=\"#fetch-%ED%95%A8%EC%88%98\" aria-label=\"fetch 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fetch 함수</h1>\n<p>JavaScript의 fetch 함수는 브라우저 내장 함수로, 네트워크 요청을 보내고 응답을 처리하기 위해 사용됩니다. <strong>HTTP 요청(GET, POST, PUT, DELETE 등)</strong> 을 수행하며, Promise 기반으로 동작하여 비동기적으로 데이터를 처리할 수 있습니다.</p>\n<h2 id=\"기본-문법\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95\" aria-label=\"기본 문법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본 문법</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 응답 처리 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* 에러 처리 */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>url: 요청할 리소스의 URL.</li>\n<li>options: 요청 설정을 담은 객체. 생략하면 기본값으로 GET 요청이 전송됩니다.</li>\n</ul>\n<h2 id=\"async--await와-함께-사용\" style=\"position:relative;\"><a href=\"#async--await%EC%99%80-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9\" aria-label=\"async  await와 함께 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>async / await와 함께 사용</h2>\n<h3 id=\"get-요청\" style=\"position:relative;\"><a href=\"#get-%EC%9A%94%EC%B2%AD\" aria-label=\"get 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GET 요청</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://localhost:3001/members/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data:'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>fetch API를 사용하여 비동기 POST 요청을 보냅니다.</li>\n<li>URL은 <a href=\"http://localhost:3001/members/%EB%A1%9C\">http://localhost:3001/members/로</a>, 로컬 서버를 대상으로 합니다.</li>\n<li>응답 데이터(response.body)를 JSON으로 파싱하고 data 변수에 저장합니다.</li>\n</ul>\n<h3 id=\"post-요청\" style=\"position:relative;\"><a href=\"#post-%EC%9A%94%EC%B2%AD\" aria-label=\"post 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>POST 요청</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">createItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> id <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputId'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputName'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> age <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputAge'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/members/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data:'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>HTTP 요청 헤더에 Content-Type: application/json을 설정해 JSON 데이터로 요청을 보냅니다.</li>\n<li>요청의 본문(body)에는 사용자가 입력한 데이터를 JSON 형식으로 변환(JSON.stringify)해서 포함시킵니다.</li>\n<li>response.ok가 false라면(즉, HTTP 응답 상태 코드가 200-299 범위를 벗어났다면), 예외를 던져서 에러를 처리합니다.</li>\n</ul>\n<h3 id=\"put-요청\" style=\"position:relative;\"><a href=\"#put-%EC%9A%94%EC%B2%AD\" aria-label=\"put 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PUT 요청</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">updateItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> inputId <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputId2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> inputName <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputName2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> inputAge <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputAge2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://localhost:3001/members/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>inputId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> inputId<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> inputName<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> inputAge <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">에러 발생</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Updated Item'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>요청 본문(body)은 JSON 형식으로 변환(JSON.stringify)된 객체입니다.</li>\n<li>객체에는 업데이트할 id, name, age 값이 포함됩니다.</li>\n</ul>\n<h3 id=\"delete-요청\" style=\"position:relative;\"><a href=\"#delete-%EC%9A%94%EC%B2%AD\" aria-label=\"delete 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DELETE 요청</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">deleteItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> inputId <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputId3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://localhost:3001/members/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>inputId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>response<span class=\"token punctuation\">.</span>status<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'Deleted!!!'</span><span class=\"token punctuation\">;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Deleted item'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>fetch를 사용하여 <a href=\"http://localhost:3001/members/%7BinputId%7D%EB%A1%9C\">http://localhost:3001/members/{inputId}로</a> DELETE 요청을 보냅니다.</li>\n<li>method는 DELETE로 설정되어 있습니다. 이는 데이터를 삭제하는 요청임을 서버에 알립니다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95\">기본 문법</a></p>\n</li>\n<li>\n<p><a href=\"#async--await%EC%99%80-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9\">async / await와 함께 사용</a></p>\n<ul>\n<li><a href=\"#get-%EC%9A%94%EC%B2%AD\">GET 요청</a></li>\n<li><a href=\"#post-%EC%9A%94%EC%B2%AD\">POST 요청</a></li>\n<li><a href=\"#put-%EC%9A%94%EC%B2%AD\">PUT 요청</a></li>\n<li><a href=\"#delete-%EC%9A%94%EC%B2%AD\">DELETE 요청</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 13, 2024","title":"Day 19 fetch 함수","categories":"프로그래머스","author":"중석","emoji":"👨🏻‍💻"},"fields":{"slug":"/Programmers/Day20/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://github.com/dony0720","comments":{"utterances":{"repo":"dony0720/dony0720.github.io"}}}}},"pageContext":{"slug":"/Programmers/RBF4/","nextSlug":"/Programmers/Day20/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}